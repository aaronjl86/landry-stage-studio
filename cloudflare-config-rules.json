{
  "rules": [
    {
      "description": "Polish OFF for logos - preserve perfect quality",
      "expression": "(http.request.uri.path contains \"/assets/logos/\" or http.request.uri.path contains \"logo.png\" or http.request.uri.path contains \"tlm-logo\")",
      "action": "set_config",
      "action_parameters": {
        "polish": "off"
      },
      "enabled": true,
      "priority": 1
    },
    {
      "description": "Polish LOSSLESS for hero and gallery images - high quality for real estate photos",
      "expression": "(http.request.uri.path contains \"/assets/gallery/\" or http.request.uri.path contains \"hero-\" or http.request.uri.path contains \"before-\" or http.request.uri.path contains \"after-\" or http.request.uri.path contains \"/images/before/\" or http.request.uri.path contains \"/images/after/\")",
      "action": "set_config",
      "action_parameters": {
        "polish": "lossless",
        "webp": true
      },
      "enabled": true,
      "priority": 2
    },
    {
      "description": "Polish LOSSY + WebP for all other images - maximum optimization",
      "expression": "(http.request.uri.path matches \".*\\\\.(jpg|jpeg|png|gif)$\")",
      "action": "set_config",
      "action_parameters": {
        "polish": "lossy",
        "webp": true
      },
      "enabled": true,
      "priority": 3
    }
  ]
}
